# Развертывание Label Studio на виртуальной машине

Это руководство описывает шаги по развертыванию Label Studio на виртуальной машине (ВМ) с использованием Docker. Процесс аналогичен развертыванию на локальной машине.

## Предварительные требования

1.  **Виртуальная машина:** С установленной операционной системой Linux (например, Ubuntu Server 20.04 LTS или новее).
2.  **Доступ с правами `sudo`:** Для установки программного обеспечения.
3.  **Установленный Docker и Docker Compose:**
    *   Инструкции по установке Docker: [https://docs.docker.com/engine/install/](https://docs.docker.com/engine/install/)
    *   Инструкции по установке Docker Compose: [https://docs.docker.com/compose/install/](https://docs.docker.com/compose/install/)

## Шаги развертывания

1.  **Обновление системы (рекомендуется):**
    ```bash
    sudo apt update
    sudo apt upgrade -y
    ```

2.  **Установка Docker и Docker Compose (если еще не установлены):**
    Следуйте официальным инструкциям по ссылкам выше. Убедитесь, что ваш пользователь добавлен в группу `docker`, чтобы избежать необходимости использовать `sudo` для каждой Docker-команды:
    ```bash
    sudo usermod -aG docker $USER
    # После этого необходимо перелогиниться или выполнить newgrp docker
    ```

3.  **Создание директории для Label Studio (опционально, но рекомендуется для организации):**
    ```bash
    mkdir ~/label-studio-data
    cd ~/label-studio-data
    ```

4.  **Запуск Label Studio с помощью Docker:**
    Самый простой способ запустить Label Studio — использовать официальный Docker-образ.

    ```bash
    docker run -d -p 8080:8080 -v $(pwd)/mydata:/label-studio/data heartexlabs/label-studio:latest
    ```
    *   `-d`: Запустить контейнер в фоновом (detached) режиме.
    *   `-p 8080:8080`: Пробросить порт 8080 контейнера на порт 8080 хост-машины (ВМ). Вы можете изменить порт хоста, если 8080 занят.
    *   `-v $(pwd)/mydata:/label-studio/data`: Смонтировать локальную директорию `mydata` (в текущей директории, где вы находитесь, например, `~/label-studio-data/mydata`) в контейнер по пути `/label-studio/data`. Здесь будут храниться данные проектов Label Studio, чтобы они не терялись при перезапуске контейнера. Создайте директорию `mydata` перед запуском, если она не существует.
    *   `heartexlabs/label-studio:latest`: Имя официального Docker-образа Label Studio. Рекомендуется использовать конкретную версию вместо `latest` для производственных сред.

5.  **Проверка работы:**
    *   Через несколько минут после запуска контейнера Label Studio должен быть доступен в вашем веб-браузере по адресу `http://<IP_АДРЕС_ВАШЕЙ_ВМ>:8080`.
    *   При первом входе вам будет предложено создать аккаунт администратора.

6.  **Управление контейнером:**
    *   Посмотреть запущенные контейнеры: `docker ps`
    *   Посмотреть логи контейнера (помогает при отладке): `docker logs <container_id_or_name>`
    *   Остановить контейнер: `docker stop <container_id_or_name>`
    *   Запустить остановленный контейнер: `docker start <container_id_or_name>`
    *   Удалить контейнер: `docker rm <container_id_or_name>` (данные в смонтированном томе сохранятся).